<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="web.admin.dao.face.NoticeDao">
 
 	<sql id="selectNotice">
		SELECT
			board_no, board_title, board_content
			, board_date
		FROM NOTICE
	</sql>

	<sql id="whereTitleSearch">
		WHERE board_title LIKE '%' || #{search} || '%'
	</sql>
 
 
 	<select id="selectAll" resultType="web.user.dto.Notice" parameterType="web.util.Paging">
 		SELECT * FROM (
 			SELECT rownum rnum, B.* FROM (
 				<include refid="selectNotice" />
 				<include refid="whereTitleSearch" />	
 				ORDER BY board_no DESC
 			) B
 		) R
 		WHERE rnum BETWEEN #{startNo } AND #{endNo }
 	</select>
 
 	<select id="selectCntAll" resultType="int" parameterType="web.util.Paging">
 		SELECT COUNT(*) FROM (
 			<include refid="selectNotice" />
 			<include refid="whereTitleSearch" />			
 		)
 	</select>
 
 	<select id="selectNoticeByBoardno" resultType="web.user.dto.Notice" parameterType="web.user.dto.Notice">
 		SELECT * FROM notice
 		WHERE board_no = #{board_no }
 	</select>
 
 </mapper>
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 